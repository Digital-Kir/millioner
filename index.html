<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—Ç–æ —Ö–æ—á–µ—Ç —Å—Ç–∞—Ç—å –º–∏–ª–ª–∏–æ–Ω–µ—Ä–æ–º: –ò–ò Edition</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .game-container {
            display: flex;
            min-height: 100vh;
        }

        .main-area {
            flex: 2;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        .sidebar {
            flex: 1;
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-left: 2px solid #ffd700;
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo h1 {
            color: #ffd700;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
        }

        .logo p {
            color: #fff;
            font-size: 1.2em;
            opacity: 0.9;
        }

        .question-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .question-number {
            text-align: center;
            font-size: 1.5em;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .question-text {
            background: rgba(0, 0, 0, 0.7);
            padding: 30px;
            border-radius: 15px;
            font-size: 1.3em;
            text-align: center;
            margin-bottom: 30px;
            border: 2px solid #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .answers-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }

        .answer-btn {
            background: linear-gradient(145deg, #2c5aa0, #1e3a6f);
            border: 2px solid #4a90e2;
            color: #fff;
            padding: 20px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .answer-btn:hover {
            background: linear-gradient(145deg, #4a90e2, #2c5aa0);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.4);
        }

        .answer-btn.selected {
            background: linear-gradient(145deg, #ffd700, #cc9900);
            color: #000;
            border-color: #ffd700;
        }

        .answer-btn.correct {
            background: linear-gradient(145deg, #4caf50, #2e7d32);
            border-color: #4caf50;
        }

        .answer-btn.incorrect {
            background: linear-gradient(145deg, #f44336, #c62828);
            border-color: #f44336;
        }

        .lifelines {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .lifeline-btn {
            background: linear-gradient(145deg, #ff6b35, #d4461b);
            border: none;
            color: #fff;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .lifeline-btn:hover:not(:disabled) {
            background: linear-gradient(145deg, #ff8c42, #ff6b35);
            transform: scale(1.05);
        }

        .lifeline-btn:disabled {
            background: #666;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .money-ladder {
            list-style: none;
        }

        .money-ladder li {
            padding: 8px 15px;
            margin: 5px 0;
            border-radius: 25px;
            text-align: center;
            font-weight: bold;
        }

        .money-ladder li.current {
            background: linear-gradient(145deg, #ffd700, #cc9900);
            color: #000;
            animation: pulse 2s ease-in-out infinite alternate;
        }

        .money-ladder li.safe {
            background: linear-gradient(145deg, #4caf50, #2e7d32);
        }

        .money-ladder li.passed {
            background: linear-gradient(145deg, #666, #333);
        }

        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.05); }
        }

        .control-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .control-btn {
            background: linear-gradient(145deg, #4a90e2, #2c5aa0);
            border: none;
            color: #fff;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: linear-gradient(145deg, #5ba3f5, #4a90e2);
            transform: translateY(-2px);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
        }

        .modal-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            margin: 15% auto;
            padding: 30px;
            border: 2px solid #ffd700;
            border-radius: 15px;
            width: 80%;
            max-width: 500px;
            text-align: center;
            color: #fff;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #ffd700;
        }

        .audience-poll {
            margin: 20px 0;
        }

        .poll-bar {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }

        .poll-letter {
            width: 30px;
            font-weight: bold;
        }

        .poll-graph {
            flex: 1;
            height: 20px;
            background: #333;
            margin: 0 10px;
            border-radius: 10px;
            overflow: hidden;
        }

        .poll-fill {
            height: 100%;
            background: linear-gradient(90deg, #ffd700, #cc9900);
            border-radius: 10px;
            transition: width 1s ease;
        }

        .poll-percent {
            width: 40px;
            text-align: right;
        }

        .start-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            text-align: center;
        }

        .start-screen h1 {
            font-size: 3em;
            color: #ffd700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .start-screen p {
            font-size: 1.3em;
            margin-bottom: 30px;
            max-width: 600px;
        }

        .start-btn {
            background: linear-gradient(145deg, #ffd700, #cc9900);
            color: #000;
            border: none;
            padding: 20px 40px;
            font-size: 1.5em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .start-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .game-over {
            text-align: center;
            padding: 40px;
        }

        .game-over h2 {
            font-size: 2.5em;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .final-amount {
            font-size: 2em;
            color: #4caf50;
            margin-bottom: 30px;
        }

        .channel-credit {
            position: fixed;
            bottom: 10px;
            right: 15px;
            background: rgba(0, 0, 0, 0.3);
            color: rgba(255, 255, 255, 0.6);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            z-index: 100;
            backdrop-filter: blur(5px);
        }

        .channel-credit a {
            color: rgba(255, 215, 0, 0.7);
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        .channel-credit a:hover {
            opacity: 1;
            color: #ffd700;
        }

        @media (max-width: 768px) {
            .game-container {
                flex-direction: column;
            }
            
            .answers-grid {
                grid-template-columns: 1fr;
            }
            
            .lifelines {
                flex-wrap: wrap;
            }
            
            .logo h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div id="startScreen" class="start-screen">
        <h1>üß† –ö—Ç–æ —Ö–æ—á–µ—Ç —Å—Ç–∞—Ç—å –º–∏–ª–ª–∏–æ–Ω–µ—Ä–æ–º</h1>
        <p><strong>–°–¥–µ–ª–∞–Ω–æ –≤ –∫–∞–Ω–∞–ª–µ <a href="https://t.me/ai_digitalkir" target="_blank" style="color: #ffd700; text-decoration: none;">@ai_digitalkir</a></strong></p>
        <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –æ–± –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–µ!<br>
        10 –≤–æ–ø—Ä–æ—Å–æ–≤, 3 –ø–æ–¥—Å–∫–∞–∑–∫–∏, 1 –º–∏–ª–ª–∏–æ–Ω —Ä—É–±–ª–µ–π!</p>
        <button class="start-btn" onclick="startGame()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
    </div>

    <div id="gameScreen" class="game-container" style="display: none;">
        <div class="channel-credit">
            <a href="https://t.me/ai_digitalkir" target="_blank">@ai_digitalkir</a>
        </div>
        <div class="main-area">
            <div class="logo">
                <h1>üß† –ú–∏–ª–ª–∏–æ–Ω–µ—Ä –ò–ò</h1>
                <p>–í–æ–ø—Ä–æ—Å <span id="questionCounter">1</span> –∏–∑ 10</p>
            </div>

            <div class="question-area">
                <div class="question-number" id="questionNumber">
                    –í–æ–ø—Ä–æ—Å –∑–∞ 100‚ÇΩ
                </div>

                <div class="question-text" id="questionText">
                    –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–∞...
                </div>

                <div class="answers-grid" id="answersGrid">
                    <!-- –û—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>

                <div class="lifelines">
                    <button class="lifeline-btn" id="fiftyFifty" onclick="useFiftyFifty()">50/50</button>
                    <button class="lifeline-btn" id="askAudience" onclick="askAudience()">–ü–æ–º–æ—â—å –∑–∞–ª–∞</button>
                    <button class="lifeline-btn" id="phoneAFriend" onclick="phoneAFriend()">–ó–≤–æ–Ω–æ–∫ –¥—Ä—É–≥—É</button>
                </div>

                <div class="control-buttons">
                    <button class="control-btn" onclick="confirmAnswer()" id="confirmBtn" style="display: none;">–û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</button>
                    <button class="control-btn" onclick="takeMoneyAndLeave()" id="takeMoneyBtn">–ó–∞–±—Ä–∞—Ç—å –¥–µ–Ω—å–≥–∏</button>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <h3 style="text-align: center; margin-bottom: 20px; color: #ffd700;">–î–µ–Ω–µ–∂–Ω–∞—è –ª–µ—Å—Ç–Ω–∏—Ü–∞</h3>
            <ul class="money-ladder" id="moneyLadder">
                <li class="current">1 000 000‚ÇΩ</li>
                <li>32 000‚ÇΩ</li>
                <li>16 000‚ÇΩ</li>
                <li>8 000‚ÇΩ</li>
                <li>4 000‚ÇΩ</li>
                <li>2 000‚ÇΩ</li>
                <li>1 000‚ÇΩ</li>
                <li>500‚ÇΩ</li>
                <li>200‚ÇΩ</li>
                <li>100‚ÇΩ</li>
            </ul>
        </div>
    </div>

    <div id="gameOverScreen" class="start-screen" style="display: none;">
        <div class="channel-credit">
            <a href="https://t.me/ai_digitalkir" target="_blank">@ai_digitalkir</a>
        </div>
        <div class="game-over">
            <h2 id="gameOverTitle">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h2>
            <div class="final-amount" id="finalAmount">–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: 0‚ÇΩ</div>
            <p id="gameOverMessage">–û—Ç–ª–∏—á–Ω–∞—è –∏–≥—Ä–∞!</p>
            <button class="start-btn" onclick="restartGame()">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="audienceModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('audienceModal')">&times;</span>
            <h3>–ü–æ–º–æ—â—å –∑–∞–ª–∞</h3>
            <div class="audience-poll" id="audiencePoll">
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ä–æ—Å–∞ -->
            </div>
            <button class="control-btn" onclick="closeModal('audienceModal')">–ü–æ–Ω—è—Ç–Ω–æ</button>
        </div>
    </div>

    <div id="friendModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('friendModal')">&times;</span>
            <h3>–ó–≤–æ–Ω–æ–∫ –¥—Ä—É–≥—É</h3>
            <div id="friendResponse">
                <p id="callingText">–ó–≤–æ–Ω—é –¥—Ä—É–≥—É...</p>
                <div id="friendAnswer" style="display: none;">
                    <p><strong id="friendName">–î—Ä—É–≥</strong> –≥–æ–≤–æ—Ä–∏—Ç:</p>
                    <p id="friendAdvice"></p>
                </div>
            </div>
            <button class="control-btn" onclick="closeModal('friendModal')" id="friendOkBtn" style="display: none;">–°–ø–∞—Å–∏–±–æ</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ '–ò–ò' –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π?",
                answers: ["A: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å", "B: –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç", "C: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ò–Ω–¥—É—Å—Ç—Ä–∏—è", "D: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ò–≥—Ä–∞"],
                correct: 1,
                amount: "100‚ÇΩ"
            },
            {
                question: "–ö–∞–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∞ ChatGPT?",
                answers: ["A: Google", "B: Microsoft", "C: OpenAI", "D: Apple"],
                correct: 2,
                amount: "200‚ÇΩ"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ '–Ω–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å' –≤ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–µ?",
                answers: ["A: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è —Ä–æ–±–æ—Ç–æ–≤", "B: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å, –∏–º–∏—Ç–∏—Ä—É—é—â–∞—è —Ä–∞–±–æ—Ç—É –º–æ–∑–≥–∞", "C: –°–µ—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤", "D: –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –∏–≥—Ä"],
                correct: 1,
                amount: "500‚ÇΩ"
            },
            {
                question: "–ö–∞–∫–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –ª–µ–∂–∏—Ç –≤ –æ—Å–Ω–æ–≤–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π —Ç–∏–ø–∞ GPT?",
                answers: ["A: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã", "B: –ë–ª–æ–∫—á–µ–π–Ω", "C: –ö–≤–∞–Ω—Ç–æ–≤—ã–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã", "D: –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å"],
                correct: 0,
                amount: "1 000‚ÇΩ"
            },
            {
                question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω '–º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å' –≤ –ò–ò 2025 –≥–æ–¥–∞?",
                answers: ["A: –†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —è–∑—ã–∫–∞–º–∏", "B: –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö", "C: –ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã", "D: –†–∞–±–æ—Ç–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö"],
                correct: 1,
                amount: "2 000‚ÇΩ"
            },
            {
                question: "–ö–∞–∫–∞—è –∏–∑ —ç—Ç–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π –≤—ã–ø—É—Å—Ç–∏–ª–∞ –ò–ò-–º–æ–¥–µ–ª—å –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º 'Claude'?",
                answers: ["A: Meta", "B: OpenAI", "C: Google", "D: Anthropic"],
                correct: 3,
                amount: "4 000‚ÇΩ"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ 'RAG' –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ò–ò-—Å–∏—Å—Ç–µ–º?",
                answers: ["A: Retrieval-Augmented Generation", "B: Random Algorithm Generator", "C: Rapid AI Growth", "D: Real-time Audio Generation"],
                correct: 0,
                amount: "8 000‚ÇΩ"
            },
            {
                question: "–ö–∞–∫–æ–π –∏–∑ —ç—Ç–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ò–ò –æ–±—ä—è—Å–Ω—è—Ç—å —Å–≤–æ–∏ —Ä–µ—à–µ–Ω–∏—è?",
                answers: ["A: –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å", "B: –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å", "C: –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å", "D: –ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å"],
                correct: 1,
                amount: "16 000‚ÇΩ"
            },
            {
                question: "–ö—Ç–æ –∏–∑ —ç—Ç–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ª–∏–¥–µ—Ä–æ–≤ —Å–∞–º—ã–π –º–æ–ª–æ–¥–æ–π? üòÑ",
                answers: ["A: –ò–ª–æ–Ω –ú–∞—Å–∫ (53 –≥–æ–¥–∞)", "B: –°—ç–º –ê–ª—å—Ç–º–∞–Ω (39 –ª–µ—Ç)", "C: –°—É–Ω–¥–∞—Ä –ü–∏—á–∞–π (52 –≥–æ–¥–∞)", "D: –ú–∞—Ä–∫ –¶—É–∫–µ—Ä–±–µ—Ä–≥ (40 –ª–µ—Ç)"],
                correct: 1,
                amount: "32 000‚ÇΩ"
            },
            {
                question: "–ß—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≥–ª–∞–≤–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π 'alignment' –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ –ò–ò?",
                answers: ["A: –°–æ–≤–º–µ—â–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä", "B: –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Ü–µ–ª–µ–π –ò–ò —Å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º–∏ —Ü–µ–Ω–Ω–æ—Å—Ç—è–º–∏", "C: –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö", "D: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π"],
                correct: 1,
                amount: "1 000 000‚ÇΩ"
            }
        ];

        const friends = [
            { name: "–ê–ª–µ–∫—Å–µ–π", confidence: "–≤—ã—Å–æ–∫–∞—è" },
            { name: "–ú–∞—Ä–∏—è", confidence: "—Å—Ä–µ–¥–Ω—è—è" },
            { name: "–î–º–∏—Ç—Ä–∏–π", confidence: "–Ω–∏–∑–∫–∞—è" },
            { name: "–ê–Ω–Ω–∞", confidence: "–≤—ã—Å–æ–∫–∞—è" },
            { name: "–°–µ—Ä–≥–µ–π", confidence: "—Å—Ä–µ–¥–Ω—è—è" }
        ];

        let currentQuestion = 0;
        let selectedAnswer = -1;
        let gameEnded = false;
        let lifelinesUsed = {
            fiftyFifty: false,
            askAudience: false,
            phoneAFriend: false
        };

        const moneyAmounts = [100, 200, 500, 1000, 2000, 4000, 8000, 16000, 32000, 1000000];
        const safeAmounts = [1000, 32000]; // –ù–µ—Å–≥–æ—Ä–∞–µ–º—ã–µ —Å—É–º–º—ã

        function startGame() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'flex';
            loadQuestion();
            updateMoneyLadder();
        }

        function loadQuestion() {
            if (currentQuestion >= questions.length) {
                endGame(true);
                return;
            }

            const q = questions[currentQuestion];
            document.getElementById('questionNumber').textContent = q.amount;
            document.getElementById('questionText').textContent = q.question;
            document.getElementById('questionCounter').textContent = currentQuestion + 1;

            const answersGrid = document.getElementById('answersGrid');
            answersGrid.innerHTML = '';

            q.answers.forEach((answer, index) => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = answer;
                btn.onclick = () => selectAnswer(index);
                answersGrid.appendChild(btn);
            });

            selectedAnswer = -1;
            document.getElementById('confirmBtn').style.display = 'none';
        }

        function selectAnswer(index) {
            if (gameEnded) return;

            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(btn => btn.classList.remove('selected'));
            buttons[index].classList.add('selected');

            selectedAnswer = index;
            document.getElementById('confirmBtn').style.display = 'inline-block';
        }

        function confirmAnswer() {
            if (selectedAnswer === -1 || gameEnded) return;

            const q = questions[currentQuestion];
            const buttons = document.querySelectorAll('.answer-btn');

            // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç—ã
            buttons.forEach((btn, index) => {
                if (index === q.correct) {
                    btn.classList.add('correct');
                } else if (index === selectedAnswer && index !== q.correct) {
                    btn.classList.add('incorrect');
                }
                btn.onclick = null; // –û—Ç–∫–ª—é—á–∏—Ç—å –∫–ª–∏–∫–∏
            });

            setTimeout(() => {
                if (selectedAnswer === q.correct) {
                    currentQuestion++;
                    if (currentQuestion >= questions.length) {
                        endGame(true);
                    } else {
                        loadQuestion();
                        updateMoneyLadder();
                    }
                } else {
                    endGame(false);
                }
            }, 2000);
        }

        function updateMoneyLadder() {
            const ladder = document.getElementById('moneyLadder');
            const items = ladder.getElementsByTagName('li');

            for (let i = 0; i < items.length; i++) {
                items[i].className = '';
                
                if (i === 9 - currentQuestion) {
                    items[i].className = 'current';
                } else if (i > 9 - currentQuestion) {
                    items[i].className = 'passed';
                } else if (i === 6 || i === 1) { // –ù–µ—Å–≥–æ—Ä–∞–µ–º—ã–µ —Å—É–º–º—ã
                    if (i > 9 - currentQuestion) {
                        items[i].className = 'safe';
                    }
                }
            }
        }

        function useFiftyFifty() {
            if (lifelinesUsed.fiftyFifty || gameEnded) return;

            lifelinesUsed.fiftyFifty = true;
            document.getElementById('fiftyFifty').disabled = true;

            const q = questions[currentQuestion];
            const buttons = document.querySelectorAll('.answer-btn');
            let incorrectAnswers = [];

            buttons.forEach((btn, index) => {
                if (index !== q.correct) {
                    incorrectAnswers.push(index);
                }
            });

            // –£–±–∏—Ä–∞–µ–º –¥–≤–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞
            for (let i = 0; i < 2; i++) {
                const randomIndex = Math.floor(Math.random() * incorrectAnswers.length);
                const answerIndex = incorrectAnswers[randomIndex];
                buttons[answerIndex].style.display = 'none';
                incorrectAnswers.splice(randomIndex, 1);
            }
        }

        function askAudience() {
            if (lifelinesUsed.askAudience || gameEnded) return;

            lifelinesUsed.askAudience = true;
            document.getElementById('askAudience').disabled = true;

            const q = questions[currentQuestion];
            const modal = document.getElementById('audienceModal');
            const poll = document.getElementById('audiencePoll');

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã —Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
            let percentages = [0, 0, 0, 0];
            const correctIndex = q.correct;
            
            // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–∞–µ—Ç –±–æ–ª—å—à–µ –≥–æ–ª–æ—Å–æ–≤ (40-70%)
            percentages[correctIndex] = 40 + Math.random() * 30;
            
            // –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã
            let remaining = 100 - percentages[correctIndex];
            for (let i = 0; i < 4; i++) {
                if (i !== correctIndex && remaining > 0) {
                    const vote = Math.random() * remaining;
                    percentages[i] = vote;
                    remaining -= vote;
                }
            }

            // –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª
            percentages = percentages.map(p => Math.round(p));
            
            // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –¥–æ 100%
            const sum = percentages.reduce((a, b) => a + b, 0);
            const diff = 100 - sum;
            percentages[correctIndex] += diff;

            poll.innerHTML = '';
            ['A', 'B', 'C', 'D'].forEach((letter, index) => {
                const bar = document.createElement('div');
                bar.className = 'poll-bar';
                bar.innerHTML = `
                    <div class="poll-letter">${letter}:</div>
                    <div class="poll-graph">
                        <div class="poll-fill" style="width: ${percentages[index]}%"></div>
                    </div>
                    <div class="poll-percent">${percentages[index]}%</div>
                `;
                poll.appendChild(bar);
            });

            modal.style.display = 'block';
        }

        function phoneAFriend() {
            if (lifelinesUsed.phoneAFriend || gameEnded) return;

            lifelinesUsed.phoneAFriend = true;
            document.getElementById('phoneAFriend').disabled = true;

            const modal = document.getElementById('friendModal');
            const callingText = document.getElementById('callingText');
            const friendAnswer = document.getElementById('friendAnswer');
            const friendOkBtn = document.getElementById('friendOkBtn');

            modal.style.display = 'block';
            friendAnswer.style.display = 'none';
            friendOkBtn.style.display = 'none';

            const friend = friends[Math.floor(Math.random() * friends.length)];
            const q = questions[currentQuestion];
            
            callingText.textContent = `–ó–≤–æ–Ω—é ${friend.name}...`;

            setTimeout(() => {
                const letters = ['A', 'B', 'C', 'D'];
                let advice = '';
                
                if (friend.confidence === '–≤—ã—Å–æ–∫–∞—è') {
                    // 80% —à–∞–Ω—Å –¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                    if (Math.random() < 0.8) {
                        advice = `–Ø –¥—É–º–∞—é, —ç—Ç–æ –≤–∞—Ä–∏–∞–Ω—Ç ${letters[q.correct]}. –î–æ–≤–æ–ª—å–Ω–æ —É–≤–µ—Ä–µ–Ω –≤ —ç—Ç–æ–º!`;
                    } else {
                        const wrongAnswer = Math.floor(Math.random() * 4);
                        advice = `–ú–Ω–µ –∫–∞–∂–µ—Ç—Å—è ${letters[wrongAnswer]}, –Ω–æ —è –Ω–µ –Ω–∞ 100% —É–≤–µ—Ä–µ–Ω.`;
                    }
                } else if (friend.confidence === '—Å—Ä–µ–¥–Ω—è—è') {
                    // 60% —à–∞–Ω—Å –¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                    if (Math.random() < 0.6) {
                        advice = `–î—É–º–∞—é, —ç—Ç–æ ${letters[q.correct]}, –Ω–æ –Ω–µ –æ—á–µ–Ω—å —É–≤–µ—Ä–µ–Ω.`;
                    } else {
                        advice = `–ù–µ –∑–Ω–∞—é —Ç–æ—á–Ω–æ... –º–æ–∂–µ—Ç –±—ã—Ç—å ${letters[Math.floor(Math.random() * 4)]}?`;
                    }
                } else {
                    // 40% —à–∞–Ω—Å –¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
                    if (Math.random() < 0.4) {
                        advice = `–ù–∞–≤–µ—Ä–Ω–æ–µ ${letters[q.correct]}... –Ω–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –¥–æ–≥–∞–¥–∫–∞.`;
                    } else {
                        advice = `–ò–∑–≤–∏–Ω–∏, –Ω–µ –∑–Ω–∞—é. –ü–æ–ø—Ä–æ–±—É–π ${letters[Math.floor(Math.random() * 4)]}?`;
                    }
                }

                callingText.style.display = 'none';
                document.getElementById('friendName').textContent = friend.name;
                document.getElementById('friendAdvice').textContent = advice;
                friendAnswer.style.display = 'block';
                friendOkBtn.style.display = 'inline-block';
            }, 2000);
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function takeMoneyAndLeave() {
            if (gameEnded) return;
            
            let amount = 0;
            if (currentQuestion > 0) {
                amount = moneyAmounts[currentQuestion - 1];
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ—Å–≥–æ—Ä–∞–µ–º—ã–µ —Å—É–º–º—ã
                if (currentQuestion >= 4) amount = Math.max(amount, 1000);
                if (currentQuestion >= 9) amount = Math.max(amount, 32000);
            }
            
            endGame(false, amount, true);
        }

        function endGame(won, customAmount = null, tookMoney = false) {
            gameEnded = true;
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('gameOverScreen').style.display = 'flex';

            const title = document.getElementById('gameOverTitle');
            const amount = document.getElementById('finalAmount');
            const message = document.getElementById('gameOverMessage');

            if (tookMoney) {
                title.textContent = '–ú—É–¥—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ!';
                amount.textContent = `–í—ã –∑–∞–±—Ä–∞–ª–∏: ${customAmount.toLocaleString()}‚ÇΩ`;
                message.textContent = '–ò–Ω–æ–≥–¥–∞ –ª—É—á—à–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –≤–æ–≤—Ä–µ–º—è!';
            } else if (won) {
                title.textContent = '–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú! üéâ';
                amount.textContent = '–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: 1 000 000‚ÇΩ';
                message.textContent = '–í—ã –Ω–∞—Å—Ç–æ—è—â–∏–π —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –ò–ò!';
            } else {
                let finalAmount = 0;
                if (currentQuestion >= 4) finalAmount = 1000;
                if (currentQuestion >= 9) finalAmount = 32000;
                
                title.textContent = '–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞';
                amount.textContent = `–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: ${finalAmount.toLocaleString()}‚ÇΩ`;
                
                if (finalAmount > 0) {
                    message.textContent = '–ù–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ—Å—å! –£ –≤–∞—Å –µ—Å—Ç—å –Ω–µ—Å–≥–æ—Ä–∞–µ–º–∞—è —Å—É–º–º–∞.';
                } else {
                    message.textContent = '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑! –ó–Ω–∞–Ω–∏—è –æ–± –ò–ò –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã.';
                }
            }
        }

        function restartGame() {
            currentQuestion = 0;
            selectedAnswer = -1;
            gameEnded = false;
            lifelinesUsed = {
                fiftyFifty: false,
                askAudience: false,
                phoneAFriend: false
            };

            // –°–±—Ä–æ—Å –ø–æ–¥—Å–∫–∞–∑–æ–∫
            document.getElementById('fiftyFifty').disabled = false;
            document.getElementById('askAudience').disabled = false;
            document.getElementById('phoneAFriend').disabled = false;

            // –ü–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã
            document.getElementById('gameOverScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'flex';

            loadQuestion();
            updateMoneyLadder();
        }
    </script>
